<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>QUẢN LÝ HỌC VIÊN</h1>
    <h2>Danh sách học viên</h2>
    <p id="result"></p>
    <button onclick="studentTable()">table</button>
    <br>
    <div>
        <h3>Thông tin học viên</h3>
        <label>ID</label>
        <input type="text" id="studentId"></br>
        <label>Họ tên</label>
        <input type="text" id="fullName"></br>
        <label>Ngày Sinh</label>
        <input type="date" id="date"></br>
        <label>Giới tính</label>
        <input type="text" id="gender"></br>
        <label>Lớp</label>
        <input type="text" id="studentClass"></br>
        <button onclick="addStudent()">Add</button>
        <button onclick="save()">Save</button>
    </div>
    <script>
        class Student {
            constructor(id, fullName, date, gender, studentClass){
                this.id = id;
                this.fullName = fullName;
                this.date = date;
                this.gender = gender;
                this.studentClass = studentClass;
            }
        }
        let students = [];
        function addStudent(){
            let id =document.getElementById('studentId').value;
            let fullName =document.getElementById('fullName').value;
            let date =document.getElementById('date').value;
            let gender =document.getElementById('gender').value;
            let studentClass =document.getElementById('studentClass').value;
            if(!id || !fullName || !date || !gender || !studentClass){
                alert('vui lòng nhập đầy đủ thông tin');
                return;
            }
            let checkId = students.find(student => student.id === id);
            if (checkId){
                alert('ID học viên đã tồn tại. Vui lòng nhập lại');
                return;
            }
            let newStudent = new Student(id, fullName, date, gender, studentClass);
            students.push(newStudent);
            alert('Bạn đã thêm thành công');
            studentTable();
            document.getElementById('studentId').value = '';
            document.getElementById('fullName').value = '';
            document.getElementById('date').value = '';
            document.getElementById('gender').value = '';
            document.getElementById('studentClass').value = '';
        }
        function studentTable(){
            let tableString = `<table>
                                <tr>
                                    <td>ID</td>
                                    <td>Họ Tên</td>
                                    <td>Ngày Sinh</td>
                                    <td>Giới tính</td>
                                    <td>Lớp</td>
                                    <td>Tuỳ Chọn</td>
                                </tr>`;
        for (let i=0; i<students.length; i++){
            let student = students[i];
            tableString += `<tr>
                                <td>${student.id}</td>
                                <td>${student.fullName}</td>
                                <td>${student.date}</td>
                                <td>${student.gender}</td>
                                <td>${student.studentClass}</td>
                                <td><button onclick="deleteStudent">Xoá</button></td>
                            </tr>`;
        }
        tableString += `</table>`;
        document.getElementById('result').innerHTML = tableString;
        }
        function deleteStudent(index){
            if(confirm(`Bạn có chắc chắn muốn xoá học viên ${students[index].fullName} không?`)){
                students.splice(index,1);
                studentTable();
            }
        }
    </script>
</body>
</html>